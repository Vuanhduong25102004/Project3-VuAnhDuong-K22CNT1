<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Trang Chủ - Phòng khám Thiên An</title>
<!-- Link đến Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

<!-- Include CSS của header và footer (fragment) -->
<th:block th:replace="~{header :: headerStyles}"></th:block>
<th:block th:replace="~{footer :: footerStyles}"></th:block>

<!-- Link đến file custom.css (sau Bootstrap) -->
<link rel="stylesheet" th:href="@{/css/custom.css}" />
<style>
/* Đảm bảo footer luôn ở cuối trang */
html, body {
	height: 100%;
	margin: 0;
}

body {
	display: flex;
	flex-direction: column;
}

main {
	flex: 1;
}
</style>
</head>
<body>

	<!-- Gọi fragment header -->
	<th:block th:replace="~{header :: header}"></th:block>

	<!-- Nội dung chính -->
	<main class="container mt-4">
		<!-- Thông báo đặt lịch thành công -->
		<div id="successMessage" class="alert alert-success d-none"
			role="alert">Đặt lịch khám thành công!</div>

		<!-- Banner Section -->
		<div class="banner">
			<div class="banner-content">
				<h1 class="display-4">Phòng khám Thiên An</h1>
				<p class="lead">Chăm sóc sức khỏe toàn diện với đội ngũ bác sĩ
					chuyên nghiệp...</p>
				<button type="button" class="btn btn-primary btn-lg"
					data-bs-toggle="modal" data-bs-target="#appointmentModal">
					Đặt lịch khám bệnh</button>
			</div>
		</div>

		<!-- Giới thiệu về phòng khám -->
		<section class="mt-5">
			<h2>Giới thiệu về chúng tôi</h2>
			<p>Phòng khám Thiên An cam kết cung cấp dịch vụ y tế chất lượng
				cao với tiêu chí "Sức khỏe là vàng"...</p>
		</section>

		<!-- Dịch vụ -->
		<section class="mt-5">
			<h2 class="mb-4">Dịch vụ của chúng tôi</h2>

			<!-- Sử dụng row-cols để tự động chia cột theo kích thước màn hình:
       row-cols-1 -> mobile
       row-cols-md-3 -> tablet/desktop chia thành 3 cột mỗi hàng 
       g-4 -> khoảng cách giữa các card -->
			<div class="row row-cols-1 row-cols-md-3 g-4">

				<!-- Card 1 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<!-- Icon hoặc hình thu nhỏ -->
							<i class="fas fa-stethoscope"></i>
							<h5 class="card-title">Khám Tổng Quát</h5>
							<p class="card-text">Đánh giá tổng quát sức khỏe qua các chỉ
								số y tế cơ bản.</p>
						</div>
					</div>
				</div>

				<!-- Card 2 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<i class="fas fa-baby"></i>
							<h5 class="card-title">Phụ khoa</h5>
							<p class="card-text">Tư vấn và điều trị các vấn đề về phụ
								khoa, đảm bảo sức khỏe phụ nữ.</p>
						</div>
					</div>
				</div>

				<!-- Card 3 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<i class="fas fa-clinic-medical"></i>
							<h5 class="card-title">Trung Tâm Chẩn Đoán</h5>
							<p class="card-text">Thiết bị hiện đại giúp chẩn đoán chính
								xác và nhanh chóng.</p>
						</div>
					</div>
				</div>

				<!-- Card 4 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<i class="fas fa-heartbeat"></i>
							<h5 class="card-title">Tim Mạch</h5>
							<p class="card-text">Kiểm tra và điều trị các bệnh lý về tim
								mạch với đội ngũ chuyên môn cao.</p>
						</div>
					</div>
				</div>

				<!-- Card 5 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<i class="fas fa-tooth"></i>
							<h5 class="card-title">Phẫu Thuật Nha Khoa</h5>
							<p class="card-text">Dịch vụ nha khoa toàn diện, từ chăm sóc
								răng miệng đến phẫu thuật chuyên sâu.</p>
						</div>
					</div>
				</div>

				<!-- Card 6 -->
				<div class="col">
					<div class="card text-center h-100 shadow-sm">
						<div class="card-body">
							<i class="fas fa-person-walking"></i>
							<h5 class="card-title">Phục Hồi Chức Năng</h5>
							<p class="card-text">Hỗ trợ phục hồi sau chấn thương, tai
								biến, và các vấn đề vận động.</p>
						</div>
					</div>
				</div>

			</div>

			<!-- Nút "Xem thêm" (tuỳ chọn) -->
			<div class="text-center mt-4">
				<a href="#" class="button-see-more">Xem thêm</a>
			</div>
		</section>


		<!-- Đội ngũ bác sĩ -->
		<section class="mt-5">
			<h2>Đội ngũ bác sĩ</h2>
			<div class="row">
				<div class="col-md-3 col-sm-6">
					<div class="card text-center">
						<img src="/images/bacsitien.png" alt="Bác sĩ A" />
						<div class="card-body">
							<h5 class="card-title">Bác sĩ Nguyễn Văn Tiến</h5>
							<p class="card-text">Chuyên gia Nội khoa</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Thêm Bản đồ (Google Map) ở đây -->
			<div class="mt-4">
				<h3>Vị trí trên bản đồ</h3>
				
					<iframe
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3725.5968985745953!2d105.75852547584007!3d20.968697189837698!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313452d8d8dea2a5%3A0xa0b5be2bd54990e2!2zUC4gUGhhbiDEkMOsbmggR2nDs3QsIEjDoCDEkMO0bmcsIEjDoCBO4buZaSwgVmnhu4d0IE5hbQ!5e0!3m2!1svi!2s!4v1741765314857!5m2!1svi!2s"
						width="1000" height="600" style="border: 0;" allowfullscreen=""
						loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

				
			</div>
		</section>

		<!-- Liên hệ -->
		<section class="mt-5">
			<h2>Liên hệ</h2>
			<ul>
				<li><strong>Địa chỉ:</strong> Số nhà 6, Phường La Khê, Hà Đông,
					Hà Nội</li>
				<li><strong>Số điện thoại:</strong> 0972471680</li>
				<li><strong>Email:</strong> vuanhduong251020042@gmail.com</li>
			</ul>
		</section>
	</main>

	<!-- Gọi fragment footer -->
	<th:block th:replace="~{footer :: footer}"></th:block>

	<!-- Modal Đặt lịch khám bệnh -->
	<div class="modal fade" id="appointmentModal" tabindex="-1"
		aria-labelledby="appointmentModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h5 class="modal-title" id="appointmentModalLabel">Đặt Lịch
						Khám Bệnh</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Đóng"></button>
				</div>
				<!-- Modal Body chứa Form -->
				<div class="modal-body">
					<form id="appointmentForm" action="/appointments" method="post">
						<input type="hidden" th:name="${_csrf.parameterName}"
							th:value="${_csrf.token}" />
						<div class="mb-3">
							<label for="doctor" class="form-label">Chọn bác sĩ</label> <select
								class="form-select" id="doctor" name="Vaddoctor_id" required>
								<option value="">Chọn bác sĩ...</option>
								<!-- Lặp qua danh sách bác sĩ từ model -->
								<th:block th:each="doctor : ${doctors}">
									<option th:value="${doctor.id}"
										th:text="${doctor.fullname + ' - ' + doctor.specialty}">
									</option>
								</th:block>
							</select>
						</div>
						<div class="mb-3">
							<label for="date" class="form-label">Ngày khám</label> <input
								type="date" class="form-control" id="date" name="Vaddate"
								required>
						</div>
						<div class="mb-3">
							<label for="time" class="form-label">Giờ khám</label> <input
								type="time" class="form-control" id="time" name="Vadtime"
								required>
						</div>
					</form>
				</div>
				<!-- Modal Footer -->
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-bs-dismiss="modal">Đóng</button>
					<button type="submit" form="appointmentForm"
						class="btn btn-primary">Gửi đặt lịch</button>
				</div>
			</div>
		</div>
	</div>

	<!-- jQuery (nếu cần) -->
	<script th:src="@{https://code.jquery.com/jquery-3.6.4.min.js}"></script>
	<!-- Popper.js (cần thiết cho Bootstrap) -->
	<script
		th:src="@{https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js}"></script>
	<!-- Bootstrap JS -->
	<script
		th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js}"></script>
	<!-- Script hiển thị thông báo -->
	<script>
    window.onload = function () {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get("success") === "true") {
        document.getElementById("successMessage").classList.remove("d-none");
        // Xóa tham số "success=true" sau 3 giây
        setTimeout(() => {
          history.replaceState({}, document.title, window.location.pathname);
        }, 3000);
      }
    };
  </script>
</body>
</html>
